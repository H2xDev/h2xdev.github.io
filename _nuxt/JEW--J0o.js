import{e as C,k as g,c as p,o as a,q as Z,g as v,a as l,Q as F,R as J,m as I,F as M,b,h as V,s as k,w as E,j as ee,t as T,S as te,T as ne,v as oe,U as X,l as N,V as U,C as se,n as K,r as B,p as O,W as ae,X as q,d as le,_ as j,N as ce,Y as re,Z as R}from"./DjzJe0sn.js";import{_ as Y}from"./BwC2WzKt.js";import{_ as ie}from"./hv0HLLCI.js";const ue=C({__name:"ProgressSlider",props:{modelValue:{type:Number,default:0},continuous:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:o}){const i=g(null),e=o,n=c,t=g(n.modelValue),s=g(!1),_=r=>{const d=i.value.getBoundingClientRect(),y=r.type.startsWith("touch"),f=y?"touchend":"mouseup",P=y?"touchmove":"mousemove";t.value=n.modelValue,s.value=!0;const w=h=>{const m=(h.type.startsWith("mouse")?h.clientX:h.touches[0].clientX)-d.left;t.value=Math.min(Math.max(m/d.width,0),1),n.continuous&&e("update:modelValue",t.value)},$=()=>{document.removeEventListener(P,w),document.removeEventListener(f,$),console.log("Mouse up:",t.value),e("update:modelValue",t.value),s.value=!1};document.addEventListener(P,w),document.addEventListener(f,$)};return(r,u)=>(a(),p("div",{class:"progress-slider",ref_key:"container",ref:i,role:"progressbar",style:Z({"--progress-value":v(s)?v(t):c.modelValue})},[l("button",{class:"progress-slider__nail",onMousedown:_,onTouchstart:F(_,["prevent"])},null,32)],4))}}),de=Object.assign(ue,{__name:"ProgressSlider"}),_e=["textContent"],me=C({__name:"DropdownPanel",props:{inactiveIcon:{type:String,default:"bars"},activeIcon:{type:String,default:"xmark"},tag:{type:String,default:"div"},label:{type:String,default:""},right:{type:Boolean,default:!1}},emits:["stateUpdate"],setup(c,{expose:o,emit:i}){const e=g(!1),n=g(null),t=g(null),s=X(),_=J(),r=i,u=c,d=()=>{if(!n.value||!t.value)return;const w=n.value.button;t.value.style.top=`${w.offsetTop}px`,u.right?t.value.style.left=`${w.offsetLeft}px`:t.value.style.left=`${w.offsetLeft-t.value.offsetWidth+w.offsetWidth}px`},y=()=>{e.value&&(e.value=!1,r("stateUpdate",!1),setTimeout(()=>{s.play("SWOOSH_END").rate(.5)},250))},f=()=>{e.value=!e.value,r("stateUpdate",e.value),s.play("SWOOSH_END").rate(1.5)},P=w=>{const $=w.composedPath(),h=n.value?.button;!$.includes(h)&&!$.includes(t.value)&&y()};return I(()=>{window.addEventListener("click",P),d(),window.addEventListener("resize",d)}),o({active:e,toggleMenu:f,closeMenu:y}),(w,$)=>{const h=Y;return a(),p(M,null,[b(h,{ref_key:"triggerButton",ref:n,class:k({"button--icon":!c.label,"dropdown-panel__trigger":!0,"dropdown-panel__trigger--active":v(e),"dropdown-panel__trigger--right":c.right}),onClick:f},{default:E(()=>[v(e)?(a(),p("i",{key:1,class:k(`fa-solid fa-${u.activeIcon}`)},null,2)):(a(),p("i",{key:0,class:k(`fa-solid fa-${u.inactiveIcon}`)},null,2)),c.label?(a(),p("span",{key:2,class:"dropdown-panel__trigger-label",textContent:T(c.label)},null,8,_e)):ee("",!0)]),_:1},8,["class"]),(a(),V(te(c.tag),ne(v(_),{ref_key:"menuContainer",ref:t,class:{"dropdown-panel":!0,"dropdown-panel--active":v(e),"dropdown-panel--has-label":!!c.label,"dropdown-panel--right":c.right}}),{default:E(()=>[oe(w.$slots,"default")]),_:3},16,["class"]))],64)}}}),G=Object.assign(me,{__name:"DropdownPanel"}),pe={class:"music-player__body"},ve={class:"music-player__playlist"},fe=["onClick"],we=["textContent"],ge={class:"music-player__progress"},he=["textContent"],ye={class:"music-player__volume"},xe={class:"music-player__controls"},be=C({__name:"MusicPanel",setup(c){const o=g(!window?.song?.paused),i=g(null),e={"Radik Khamatdinov - Homepage theme":"/music/h2xdev-theme.ogg","Radik Khamatdinov - Hammerous Course":"/music/hammerous-course.mp3","Radik Khamatdinov - XFact Theme":"/music/xfact-theme.mp3","DTTE - Cosmic Dreams":"/music/cosmic-dreams.mp3"},n=g(0),t=g(0),s=g(.5),_=N(()=>{const m=window?.song?.duration*n.value,x=Math.floor(m/60)||0,S=Math.floor(m%60)||0;return`${x}:${S<10?"0"+S:S}`}),r=N(()=>s.value<=0?"volume-xmark":s.value<=.25?"volume-low":"volume-high"),u=()=>{o.value?window.song.pause():window.song.play()},d=()=>{i.value.forEach((m,x)=>{const S=m.scrollWidth-m.clientWidth;m.style.setProperty("--scroll-value",`${S}px`)})},y=()=>{t.value+=1,t.value%=Object.keys(e).length,window.song.src=e[h.value],window.song.play()},f=()=>{t.value-=1,t.value<0&&(t.value=Object.keys(e).length-1),window.song.src=e[h.value],window.song.play()},P=m=>{t.value=Object.keys(e).indexOf(m),window.song.src=e[m],window.song.play()},w=()=>{n.value=window.song.currentTime/window.song.duration},$=m=>{n.value=m,window.song.currentTime=window.song.duration*m},h=N(()=>Object.keys(e)[t.value]),W=()=>{window.song.paused&&(window.song.src=e[h.value],window.song.play())};return I(()=>{window&&(window.song=window.song||new Audio,window.song.volume=.5,window.song.addEventListener("play",()=>o.value=!0),window.song.addEventListener("pause",()=>o.value=!1),window.song.addEventListener("ended",y),window.song.addEventListener("timeupdate",w),window.addEventListener("click",W,{once:!0}),window.addEventListener("resize",d),d())}),U(()=>{window.removeEventListener("resize",d)}),U(se(()=>s.value,m=>{window?.song&&(window.song.volume=m)},{immediate:!0})),(m,x)=>{const S=de,Q=G,L=K("hover-sfx");return a(),V(Q,{"active-icon":"music","inactive-icon":"music",class:"music-player",onStateUpdate:d,right:""},{default:E(()=>[l("div",pe,[x[3]||(x[3]=l("p",{class:"music-player__title"}," Playlist ",-1)),l("ul",ve,[(a(),p(M,null,B(e,(H,D)=>O(l("li",{key:D,ref_for:!0,ref_key:"songs",ref:i,class:k({active:v(h)===D}),onClick:Ae=>P(D)},[l("span",{textContent:T(D)},null,8,we)],10,fe),[[L]])),64))]),l("div",ge,[l("div",{class:"music-player__time",textContent:T(v(_))},null,8,he),b(S,{class:"music-player__progress-slider",modelValue:v(n),"onUpdate:modelValue":$},null,8,["modelValue"]),l("div",ye,[l("i",{class:k(`fa-solid fa-${v(r)}`)},null,2),b(S,{class:"music-player__progress-slider",modelValue:v(s),"onUpdate:modelValue":x[0]||(x[0]=H=>ae(s)?s.value=H:null),continuous:!0},null,8,["modelValue"])])]),l("div",xe,[O((a(),p("button",{class:"music-player__button",onClick:f},x[1]||(x[1]=[l("i",{class:"fa-solid fa-backward-step"},null,-1)]))),[[L]]),O((a(),p("button",{class:"music-player__button",onClick:u},[l("i",{class:k(`fa-solid fa-${v(o)?"pause":"play"}`)},null,2)])),[[L]]),O((a(),p("button",{class:"music-player__button",onClick:y},x[2]||(x[2]=[l("i",{class:"fa-solid fa-forward-step"},null,-1)]))),[[L]])])])]),_:1})}}}),ke=Object.assign(be,{__name:"MusicPanel"}),$e=C({__name:"MenuPanel",setup(c){const o=g(null),i=q(),e={About:{to:"/about",icon:"user"},Projects:{to:"/projects",icon:"puzzle-piece"},Games:{to:"/games",icon:"gamepad"},Music:{to:"/music",icon:"music"},Experience:{to:"/experience",icon:"briefcase"},Creative:{to:"/creative",icon:"paintbrush"}},n=t=>{o.value.closeMenu(),setTimeout(()=>{i.push(t)},500)};return(t,s)=>{const _=Y,r=G;return a(),V(r,{class:"menu-panel",tag:"ul",ref_key:"dropdown",ref:o},{default:E(()=>[(a(),p(M,null,B(e,(u,d)=>l("li",{class:"menu-panel__item",role:"menuitem",key:d},[b(_,{href:u.to,class:k({button:!0,"button--active":v(i).currentRoute.value.path.includes(u.to)}),onClick:F(y=>n(u.to),["prevent"])},{default:E(()=>[l("i",{class:k(`fa-solid fa-${u.icon}`)},null,2),le(T(d),1)]),_:2},1032,["href","class","onClick"])])),64))]),_:1},512)}}}),Se=Object.assign($e,{__name:"MenuPanel"}),Ce={},Pe={class:"header-bar"};function Ve(c,o){const i=ke,e=ie,n=Se,t=K("hover-sfx");return a(),p("header",Pe,[b(i),O((a(),V(e,{to:"/",class:"header-bar__logo"},{default:E(()=>o[0]||(o[0]=[l("span",null,"H2X",-1),l("span",null,"DEV",-1)])),_:1,__:[0]})),[[t]]),b(n)])}const Ee=Object.assign(j(Ce,[["render",Ve],["__scopeId","data-v-41501342"]]),{__name:"HeaderBar"}),z=(c,o,i,e)=>{const n=c[o];return new Promise(t=>{const s=performance.now(),_=r=>{const u=Math.min((r-s)/e,1),d=n+(i-n)*u;c[o]=d,u<1?requestAnimationFrame(_):t(d)};requestAnimationFrame(_)})},Te={class:"t-headline"},Me=["textContent"],A="•••••",Oe=C({__name:"TransitionScreen",setup(c){const o=g(0),i=q(),e=X();let n=null;const t=async(s,_,r)=>{const u=window.song?.volume||.5,d=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-duration"))*1e3,y=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-delay"))*1e3;o.value=0,await new Promise(f=>setTimeout(f,1)),z(window.song,"volume",.05,300),e.play("SWOOSH_END").rate(.5),o.value=1,await new Promise(f=>setTimeout(f,d)),e.play("SWOOSH_END").rate(.25),await r(),o.value=2,await new Promise(f=>setTimeout(f,d+y)),z(window.song,"volume",u,300),o.value=0,n=null};return i.beforeEach((s,_,r)=>{if(n){n.then(()=>{n=t(s,_,r)});return}n=t(s,_,r)}),(s,_)=>(a(),p("div",{class:k({transition:!0,"transition--active":v(o)>=1,"transition--active-end":v(o)===2})},[l("p",Te,[(a(),p(M,null,B(A,(r,u)=>l("span",{key:u+r+A,textContent:T(r)},null,8,Me)),64))])],2))}}),Le=Object.assign(j(Oe,[["__scopeId","data-v-869d2f61"]]),{__name:"TransitionScreen"}),De={class:"intro"},Be={class:"t-headline"},je=["textContent"],Ne="Hello",Ie=C({__name:"IntroScreen",setup(c){return(o,i)=>(a(),p("div",De,[l("p",Be,[(a(),p(M,null,B(Ne,(e,n)=>l("span",{key:n,textContent:T(e)},null,8,je)),64))])]))}}),We=Object.assign(j(Ie,[["__scopeId","data-v-090db172"]]),{__name:"IntroScreen"}),He={},Ue={class:"bg"};function Re(c,o){return a(),p("div",Ue)}const ze=Object.assign(j(He,[["render",Re]]),{__name:"Background"}),qe=C({__name:"default",setup(c){const o=i=>{window&&(document.body.style.setProperty("--scroll-value",`${window.scrollY}px`),console.log("Scroll value updated:",window.scrollY))};return I(()=>{window.addEventListener("scroll",o)}),ce(()=>{window.removeEventListener("scroll",o)}),(i,e)=>{const n=Ee,t=re,s=Le,_=We,r=ze;return a(),p(M,null,[b(n),b(t),(a(),V(R,{to:"body"},[b(s),b(_)])),(a(),V(R,{to:"body",defer:""},[b(r)]))],64)}}});export{qe as default};
