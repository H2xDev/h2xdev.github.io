import{_ as Z}from"./CA9K5SIV.js";import{e as V,k as w,c as p,o as l,q as J,g as f,a as s,Q as z,R as ee,m as A,F as E,b,h as D,s as x,w as P,j as te,t as T,S as ne,T as oe,v as se,U as F,_ as M,l as I,V as H,C as ae,n as X,r as B,p as O,W as le,X as K,d as q,Y as ce,Z as re}from"./DzZWt_ja.js";import{_ as G}from"./DwPFqiSx.js";const ie=V({__name:"ProgressSlider",props:{modelValue:{type:Number,default:0},continuous:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:o}){const c=w(null),e=o,n=u,t=w(n.modelValue),a=w(!1),m=r=>{const d=c.value.getBoundingClientRect(),v=r.type.startsWith("touch"),C=v?"touchend":"mouseup",S=v?"touchmove":"mousemove";t.value=n.modelValue,a.value=!0;const g=y=>{const _=(y.type.startsWith("mouse")?y.clientX:y.touches[0].clientX)-d.left;t.value=Math.min(Math.max(_/d.width,0),1),n.continuous&&e("update:modelValue",t.value)},k=()=>{document.removeEventListener(S,g),document.removeEventListener(C,k),console.log("Mouse up:",t.value),e("update:modelValue",t.value),a.value=!1};document.addEventListener(S,g),document.addEventListener(C,k)};return(r,i)=>(l(),p("div",{class:"progress-slider",ref_key:"container",ref:c,role:"progressbar",style:J({"--progress-value":f(a)?f(t):u.modelValue})},[s("button",{class:"progress-slider__nail",onMousedown:m,onTouchstart:z(m,["prevent"])},null,32)],4))}}),ue=Object.assign(ie,{__name:"ProgressSlider"}),de=["textContent"],_e=V({__name:"DropdownPanel",props:{inactiveIcon:{type:String,default:"bars"},activeIcon:{type:String,default:"xmark"},tag:{type:String,default:"div"},label:{type:String,default:""}},emits:["stateUpdate"],setup(u,{expose:o,emit:c}){const e=w(!1),n=w(null),t=w(null),a=F(),m=ee(),r=c,i=u,d=()=>{if(!n.value||!t.value)return;const g=n.value.button;t.value.style.top=`${g.offsetTop}px`,t.value.style.left=`${g.offsetLeft-t.value.offsetWidth+g.offsetWidth}px`},v=()=>{e.value&&(e.value=!1,r("stateUpdate",!1),setTimeout(()=>{a.play("SWOOSH_END").rate(.5)},250))},C=()=>{e.value=!e.value,r("stateUpdate",e.value),a.play("SWOOSH_END").rate(1.5)},S=g=>{const k=g.composedPath(),y=n.value?.button;!k.includes(y)&&!k.includes(t.value)&&v()};return A(()=>{window.addEventListener("click",S),d(),window.addEventListener("resize",d)}),o({active:e,toggleMenu:C,closeMenu:v}),(g,k)=>{const y=G;return l(),p(E,null,[b(y,{ref_key:"triggerButton",ref:n,class:x({"button--icon":!u.label,"dropdown-panel__trigger":!0,"dropdown-panel__trigger--active":f(e)}),onClick:C},{default:P(()=>[f(e)?(l(),p("i",{key:1,class:x(`fa-solid fa-${i.activeIcon}`)},null,2)):(l(),p("i",{key:0,class:x(`fa-solid fa-${i.inactiveIcon}`)},null,2)),u.label?(l(),p("span",{key:2,class:"dropdown-panel__trigger-label",textContent:T(u.label)},null,8,de)):te("",!0)]),_:1},8,["class"]),(l(),D(ne(u.tag),oe(f(m),{ref_key:"menuContainer",ref:t,class:{"dropdown-panel":!0,"dropdown-panel--active":f(e),"dropdown-panel--has-label":!!u.label}}),{default:P(()=>[se(g.$slots,"default",{},void 0,!0)]),_:3},16,["class"]))],64)}}}),Q=Object.assign(M(_e,[["__scopeId","data-v-7e7fcda7"]]),{__name:"DropdownPanel"}),me={class:"music-player__body"},pe={class:"music-player__playlist"},ve=["onClick"],fe=["textContent"],we={class:"music-player__progress"},ge=["textContent"],ye={class:"music-player__volume"},he={class:"music-player__controls"},be=V({__name:"MusicPanel",setup(u){const o=w(!window?.song?.paused),c=w(null),e={"Radik Khamatdinov - Homepage theme":"/music/h2xdev-theme.ogg","Radik Khamatdinov - Hammerous Course":"/music/hammerous-course.mp3","Radik Khamatdinov - XFact Theme":"/music/xfact-theme.mp3","DTTE - Cosmic Dreams":"/music/cosmic-dreams.mp3"},n=w(0),t=w(0),a=w(.5),m=I(()=>{const _=window?.song?.duration*n.value,h=Math.floor(_/60)||0,$=Math.floor(_%60)||0;return`${h}:${$<10?"0"+$:$}`}),r=I(()=>a.value<=0?"volume-xmark":a.value<=.25?"volume-low":"volume-high"),i=()=>{o.value?window.song.pause():window.song.play()},d=()=>{c.value.forEach((_,h)=>{const $=_.scrollWidth-_.clientWidth;_.style.setProperty("--scroll-value",`${$}px`)})},v=()=>{t.value+=1,t.value%=Object.keys(e).length,window.song.src=e[y.value],window.song.play()},C=()=>{t.value-=1,t.value<0&&(t.value=Object.keys(e).length-1),window.song.src=e[y.value],window.song.play()},S=_=>{t.value=Object.keys(e).indexOf(_),window.song.src=e[_],window.song.play()},g=()=>{n.value=window.song.currentTime/window.song.duration},k=_=>{n.value=_,window.song.currentTime=window.song.duration*_},y=I(()=>Object.keys(e)[t.value]),N=()=>{window.song.paused&&(window.song.src=e[y.value],window.song.play())};return A(()=>{window&&(window.song=window.song||new Audio,window.song.volume=.5,window.song.addEventListener("play",()=>o.value=!0),window.song.addEventListener("pause",()=>o.value=!1),window.song.addEventListener("ended",v),window.song.addEventListener("timeupdate",g),window.addEventListener("click",N,{once:!0}),window.addEventListener("resize",d),d())}),H(()=>{window.removeEventListener("resize",d)}),H(ae(()=>a.value,_=>{window?.song&&(window.song.volume=_)},{immediate:!0})),(_,h)=>{const $=ue,Y=Q,L=X("hover-sfx");return l(),D(Y,{"active-icon":"music","inactive-icon":"music",class:"music-player",onStateUpdate:d},{default:P(()=>[s("div",me,[h[3]||(h[3]=s("p",{class:"music-player__title"}," Playlist ",-1)),s("ul",pe,[(l(),p(E,null,B(e,(W,j)=>O(s("li",{key:j,ref_for:!0,ref_key:"songs",ref:c,class:x({active:f(y)===j}),onClick:Ue=>S(j)},[s("span",{textContent:T(j)},null,8,fe)],10,ve),[[L]])),64))]),s("div",we,[s("div",{class:"music-player__time",textContent:T(f(m))},null,8,ge),b($,{class:"music-player__progress-slider",modelValue:f(n),"onUpdate:modelValue":k},null,8,["modelValue"]),s("div",ye,[s("i",{class:x(`fa-solid fa-${f(r)}`)},null,2),b($,{class:"music-player__progress-slider",modelValue:f(a),"onUpdate:modelValue":h[0]||(h[0]=W=>le(a)?a.value=W:null),continuous:!0},null,8,["modelValue"])])]),s("div",he,[O((l(),p("button",{class:"music-player__button",onClick:C},h[1]||(h[1]=[s("i",{class:"fa-solid fa-backward-step"},null,-1)]))),[[L]]),O((l(),p("button",{class:"music-player__button",onClick:i},[s("i",{class:x(`fa-solid fa-${f(o)?"pause":"play"}`)},null,2)])),[[L]]),O((l(),p("button",{class:"music-player__button",onClick:v},h[2]||(h[2]=[s("i",{class:"fa-solid fa-forward-step"},null,-1)]))),[[L]])])])]),_:1})}}}),xe=Object.assign(be,{__name:"MusicPanel"}),ke=V({__name:"MenuPanel",setup(u){const o=w(null),c=K(),e={About:{to:"/about",icon:"user"},Projects:{to:"/projects",icon:"puzzle-piece"},Games:{to:"/games",icon:"gamepad"},Music:{to:"/music",icon:"music"},Experience:{to:"/experience",icon:"briefcase"},Creative:{to:"/creative",icon:"paintbrush"}},n=t=>{o.value.closeMenu(),setTimeout(()=>{c.push(t)},500)};return(t,a)=>{const m=G,r=Q;return l(),D(r,{class:"menu-panel",tag:"ul",ref_key:"dropdown",ref:o},{default:P(()=>[(l(),p(E,null,B(e,(i,d)=>s("li",{class:"menu-panel__item",role:"menuitem",key:d},[b(m,{href:i.to,class:x({button:!0,"button--active":f(c).currentRoute.value.path.includes(i.to)}),onClick:z(v=>n(i.to),["prevent"])},{default:P(()=>[s("i",{class:x(`fa-solid fa-${i.icon}`)},null,2),q(T(d),1)]),_:2},1032,["href","class","onClick"])])),64))]),_:1},512)}}}),$e=Object.assign(M(ke,[["__scopeId","data-v-ffbf3f56"]]),{__name:"MenuPanel"}),Ce={},Se={class:"header-bar"},Pe={class:"header-bar__actions"};function Te(u,o){const c=Z,e=xe,n=$e,t=X("hover-sfx");return l(),p("header",Se,[O((l(),D(c,{to:"/",class:"header-bar__logo"},{default:P(()=>o[0]||(o[0]=[q(" H2XDEV ",-1)])),_:1,__:[0]})),[[t]]),o[1]||(o[1]=s("div",{class:"header-bar__visualizer"},null,-1)),s("div",Pe,[b(e),b(n)])])}const Ve=Object.assign(M(Ce,[["render",Te],["__scopeId","data-v-02d7d2f0"]]),{__name:"HeaderBar"}),R=(u,o,c,e)=>{const n=u[o];return new Promise(t=>{const a=performance.now(),m=r=>{const i=Math.min((r-a)/e,1),d=n+(c-n)*i;u[o]=d,i<1?requestAnimationFrame(m):t(d)};requestAnimationFrame(m)})},Ee={class:"t-headline"},Me=["textContent"],U="•••••",Oe=V({__name:"TransitionScreen",setup(u){const o=w(0),c=K(),e=F();let n=null;const t=async(a,m,r)=>{const i=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-duration"))*1e3,d=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-delay"))*1e3;o.value=0,await new Promise(v=>setTimeout(v,1)),R(window.song,"volume",.05,300),e.play("SWOOSH_END").rate(.5),o.value=1,await new Promise(v=>setTimeout(v,i)),e.play("SWOOSH_END").rate(.25),await r(),o.value=2,await new Promise(v=>setTimeout(v,i+d)),R(window.song,"volume",.5,300),o.value=0,n=null};return c.beforeEach((a,m,r)=>{if(n){n.then(()=>{n=t(a,m,r)});return}n=t(a,m,r)}),(a,m)=>(l(),p("div",{class:x({transition:!0,"transition--active":f(o)>=1,"transition--active-end":f(o)===2})},[s("p",Ee,[(l(),p(E,null,B(U,(r,i)=>s("span",{key:i+r+U,textContent:T(r)},null,8,Me)),64))])],2))}}),De=Object.assign(M(Oe,[["__scopeId","data-v-34286f27"]]),{__name:"TransitionScreen"}),Le={class:"intro"},je={class:"t-headline"},Be=["textContent"],Ie="Hello",Ne=V({__name:"IntroScreen",setup(u){return(o,c)=>(l(),p("div",Le,[s("p",je,[(l(),p(E,null,B(Ie,(e,n)=>s("span",{key:n,textContent:T(e)},null,8,Be)),64))])]))}}),We=Object.assign(M(Ne,[["__scopeId","data-v-090db172"]]),{__name:"IntroScreen"}),He={};function Re(u,o){const c=Ve,e=ce,n=De,t=We;return l(),p(E,null,[b(c),b(e),(l(),D(re,{to:"body"},[b(n),b(t)]))],64)}const Xe=M(He,[["render",Re]]);export{Xe as default};
