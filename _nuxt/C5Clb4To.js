import{e as T,k as g,c as p,o as l,q as Y,g as v,a as s,Q as z,R as Z,m as A,F as E,b,h as O,s as k,w as P,j as J,t as V,S as ee,T as te,v as ne,U as F,l as I,V as H,C as oe,n as X,r as B,p as M,W as se,X as K,d as ae,_ as j,Y as le,Z as ce}from"./C9N0y9YX.js";import{_ as q}from"./CnThr-hM.js";import{_ as re}from"./tqamqwmE.js";const ie=T({__name:"ProgressSlider",props:{modelValue:{type:Number,default:0},continuous:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:o}){const r=g(null),e=o,n=c,t=g(n.modelValue),a=g(!1),m=i=>{const d=r.value.getBoundingClientRect(),y=i.type.startsWith("touch"),f=y?"touchend":"mouseup",S=y?"touchmove":"mousemove";t.value=n.modelValue,a.value=!0;const w=h=>{const _=(h.type.startsWith("mouse")?h.clientX:h.touches[0].clientX)-d.left;t.value=Math.min(Math.max(_/d.width,0),1),n.continuous&&e("update:modelValue",t.value)},$=()=>{document.removeEventListener(S,w),document.removeEventListener(f,$),console.log("Mouse up:",t.value),e("update:modelValue",t.value),a.value=!1};document.addEventListener(S,w),document.addEventListener(f,$)};return(i,u)=>(l(),p("div",{class:"progress-slider",ref_key:"container",ref:r,role:"progressbar",style:Y({"--progress-value":v(a)?v(t):c.modelValue})},[s("button",{class:"progress-slider__nail",onMousedown:m,onTouchstart:z(m,["prevent"])},null,32)],4))}}),ue=Object.assign(ie,{__name:"ProgressSlider"}),de=["textContent"],_e=T({__name:"DropdownPanel",props:{inactiveIcon:{type:String,default:"bars"},activeIcon:{type:String,default:"xmark"},tag:{type:String,default:"div"},label:{type:String,default:""},right:{type:Boolean,default:!1}},emits:["stateUpdate"],setup(c,{expose:o,emit:r}){const e=g(!1),n=g(null),t=g(null),a=F(),m=Z(),i=r,u=c,d=()=>{if(!n.value||!t.value)return;const w=n.value.button;t.value.style.top=`${w.offsetTop}px`,u.right?t.value.style.left=`${w.offsetLeft}px`:t.value.style.left=`${w.offsetLeft-t.value.offsetWidth+w.offsetWidth}px`},y=()=>{e.value&&(e.value=!1,i("stateUpdate",!1),setTimeout(()=>{a.play("SWOOSH_END").rate(.5)},250))},f=()=>{e.value=!e.value,i("stateUpdate",e.value),a.play("SWOOSH_END").rate(1.5)},S=w=>{const $=w.composedPath(),h=n.value?.button;!$.includes(h)&&!$.includes(t.value)&&y()};return A(()=>{window.addEventListener("click",S),d(),window.addEventListener("resize",d)}),o({active:e,toggleMenu:f,closeMenu:y}),(w,$)=>{const h=q;return l(),p(E,null,[b(h,{ref_key:"triggerButton",ref:n,class:k({"button--icon":!c.label,"dropdown-panel__trigger":!0,"dropdown-panel__trigger--active":v(e),"dropdown-panel__trigger--right":c.right}),onClick:f},{default:P(()=>[v(e)?(l(),p("i",{key:1,class:k(`fa-solid fa-${u.activeIcon}`)},null,2)):(l(),p("i",{key:0,class:k(`fa-solid fa-${u.inactiveIcon}`)},null,2)),c.label?(l(),p("span",{key:2,class:"dropdown-panel__trigger-label",textContent:V(c.label)},null,8,de)):J("",!0)]),_:1},8,["class"]),(l(),O(ee(c.tag),te(v(m),{ref_key:"menuContainer",ref:t,class:{"dropdown-panel":!0,"dropdown-panel--active":v(e),"dropdown-panel--has-label":!!c.label,"dropdown-panel--right":c.right}}),{default:P(()=>[ne(w.$slots,"default")]),_:3},16,["class"]))],64)}}}),G=Object.assign(_e,{__name:"DropdownPanel"}),me={class:"music-player__body"},pe={class:"music-player__playlist"},ve=["onClick"],fe=["textContent"],we={class:"music-player__progress"},ge=["textContent"],he={class:"music-player__volume"},ye={class:"music-player__controls"},xe=T({__name:"MusicPanel",setup(c){const o=g(!window?.song?.paused),r=g(null),e={"Radik Khamatdinov - Homepage theme":"/music/h2xdev-theme.ogg","Radik Khamatdinov - Hammerous Course":"/music/hammerous-course.mp3","Radik Khamatdinov - XFact Theme":"/music/xfact-theme.mp3","DTTE - Cosmic Dreams":"/music/cosmic-dreams.mp3"},n=g(0),t=g(0),a=g(.5),m=I(()=>{const _=window?.song?.duration*n.value,x=Math.floor(_/60)||0,C=Math.floor(_%60)||0;return`${x}:${C<10?"0"+C:C}`}),i=I(()=>a.value<=0?"volume-xmark":a.value<=.25?"volume-low":"volume-high"),u=()=>{o.value?window.song.pause():window.song.play()},d=()=>{r.value.forEach((_,x)=>{const C=_.scrollWidth-_.clientWidth;_.style.setProperty("--scroll-value",`${C}px`)})},y=()=>{t.value+=1,t.value%=Object.keys(e).length,window.song.src=e[h.value],window.song.play()},f=()=>{t.value-=1,t.value<0&&(t.value=Object.keys(e).length-1),window.song.src=e[h.value],window.song.play()},S=_=>{t.value=Object.keys(e).indexOf(_),window.song.src=e[_],window.song.play()},w=()=>{n.value=window.song.currentTime/window.song.duration},$=_=>{n.value=_,window.song.currentTime=window.song.duration*_},h=I(()=>Object.keys(e)[t.value]),N=()=>{window.song.paused&&(window.song.src=e[h.value],window.song.play())};return A(()=>{window&&(window.song=window.song||new Audio,window.song.volume=.5,window.song.addEventListener("play",()=>o.value=!0),window.song.addEventListener("pause",()=>o.value=!1),window.song.addEventListener("ended",y),window.song.addEventListener("timeupdate",w),window.addEventListener("click",N,{once:!0}),window.addEventListener("resize",d),d())}),H(()=>{window.removeEventListener("resize",d)}),H(oe(()=>a.value,_=>{window?.song&&(window.song.volume=_)},{immediate:!0})),(_,x)=>{const C=ue,Q=G,L=X("hover-sfx");return l(),O(Q,{"active-icon":"music","inactive-icon":"music",class:"music-player",onStateUpdate:d,right:""},{default:P(()=>[s("div",me,[x[3]||(x[3]=s("p",{class:"music-player__title"}," Playlist ",-1)),s("ul",pe,[(l(),p(E,null,B(e,(W,D)=>M(s("li",{key:D,ref_for:!0,ref_key:"songs",ref:r,class:k({active:v(h)===D}),onClick:Re=>S(D)},[s("span",{textContent:V(D)},null,8,fe)],10,ve),[[L]])),64))]),s("div",we,[s("div",{class:"music-player__time",textContent:V(v(m))},null,8,ge),b(C,{class:"music-player__progress-slider",modelValue:v(n),"onUpdate:modelValue":$},null,8,["modelValue"]),s("div",he,[s("i",{class:k(`fa-solid fa-${v(i)}`)},null,2),b(C,{class:"music-player__progress-slider",modelValue:v(a),"onUpdate:modelValue":x[0]||(x[0]=W=>se(a)?a.value=W:null),continuous:!0},null,8,["modelValue"])])]),s("div",ye,[M((l(),p("button",{class:"music-player__button",onClick:f},x[1]||(x[1]=[s("i",{class:"fa-solid fa-backward-step"},null,-1)]))),[[L]]),M((l(),p("button",{class:"music-player__button",onClick:u},[s("i",{class:k(`fa-solid fa-${v(o)?"pause":"play"}`)},null,2)])),[[L]]),M((l(),p("button",{class:"music-player__button",onClick:y},x[2]||(x[2]=[s("i",{class:"fa-solid fa-forward-step"},null,-1)]))),[[L]])])])]),_:1})}}}),be=Object.assign(xe,{__name:"MusicPanel"}),ke=T({__name:"MenuPanel",setup(c){const o=g(null),r=K(),e={About:{to:"/about",icon:"user"},Projects:{to:"/projects",icon:"puzzle-piece"},Games:{to:"/games",icon:"gamepad"},Music:{to:"/music",icon:"music"},Experience:{to:"/experience",icon:"briefcase"},Creative:{to:"/creative",icon:"paintbrush"}},n=t=>{o.value.closeMenu(),setTimeout(()=>{r.push(t)},500)};return(t,a)=>{const m=q,i=G;return l(),O(i,{class:"menu-panel",tag:"ul",ref_key:"dropdown",ref:o},{default:P(()=>[(l(),p(E,null,B(e,(u,d)=>s("li",{class:"menu-panel__item",role:"menuitem",key:d},[b(m,{href:u.to,class:k({button:!0,"button--active":v(r).currentRoute.value.path.includes(u.to)}),onClick:z(y=>n(u.to),["prevent"])},{default:P(()=>[s("i",{class:k(`fa-solid fa-${u.icon}`)},null,2),ae(V(d),1)]),_:2},1032,["href","class","onClick"])])),64))]),_:1},512)}}}),$e=Object.assign(ke,{__name:"MenuPanel"}),Ce={},Se={class:"header-bar"};function Pe(c,o){const r=be,e=re,n=$e,t=X("hover-sfx");return l(),p("header",Se,[b(r),M((l(),O(e,{to:"/",class:"header-bar__logo"},{default:P(()=>o[0]||(o[0]=[s("span",null,"H2X",-1),s("span",null,"DEV",-1)])),_:1,__:[0]})),[[t]]),b(n)])}const Ve=Object.assign(j(Ce,[["render",Pe],["__scopeId","data-v-c6aa3a65"]]),{__name:"HeaderBar"}),R=(c,o,r,e)=>{const n=c[o];return new Promise(t=>{const a=performance.now(),m=i=>{const u=Math.min((i-a)/e,1),d=n+(r-n)*u;c[o]=d,u<1?requestAnimationFrame(m):t(d)};requestAnimationFrame(m)})},Te={class:"t-headline"},Ee=["textContent"],U="•••••",Me=T({__name:"TransitionScreen",setup(c){const o=g(0),r=K(),e=F();let n=null;const t=async(a,m,i)=>{const u=window.song?.volume||.5,d=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-duration"))*1e3,y=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-delay"))*1e3;o.value=0,await new Promise(f=>setTimeout(f,1)),R(window.song,"volume",.05,300),e.play("SWOOSH_END").rate(.5),o.value=1,await new Promise(f=>setTimeout(f,d)),e.play("SWOOSH_END").rate(.25),await i(),o.value=2,await new Promise(f=>setTimeout(f,d+y)),R(window.song,"volume",u,300),o.value=0,n=null};return r.beforeEach((a,m,i)=>{if(n){n.then(()=>{n=t(a,m,i)});return}n=t(a,m,i)}),(a,m)=>(l(),p("div",{class:k({transition:!0,"transition--active":v(o)>=1,"transition--active-end":v(o)===2})},[s("p",Te,[(l(),p(E,null,B(U,(i,u)=>s("span",{key:u+i+U,textContent:V(i)},null,8,Ee)),64))])],2))}}),Oe=Object.assign(j(Me,[["__scopeId","data-v-3837e9cf"]]),{__name:"TransitionScreen"}),Le={class:"intro"},De={class:"t-headline"},Be=["textContent"],je="Hello",Ie=T({__name:"IntroScreen",setup(c){return(o,r)=>(l(),p("div",Le,[s("p",De,[(l(),p(E,null,B(je,(e,n)=>s("span",{key:n,textContent:V(e)},null,8,Be)),64))])]))}}),Ne=Object.assign(j(Ie,[["__scopeId","data-v-090db172"]]),{__name:"IntroScreen"}),We={};function He(c,o){const r=Ve,e=le,n=Oe,t=Ne;return l(),p(E,null,[b(r),b(e),(l(),O(ce,{to:"body"},[b(n),b(t)]))],64)}const Fe=j(We,[["render",He]]);export{Fe as default};
