import{_ as Y}from"./DA0mEzlJ.js";import{e as T,k as g,c as p,o as l,q as Z,g as w,a,Q as W,R as J,m as z,F as V,b,h as D,s as C,w as P,j as ee,t as E,S as te,T as ne,v as oe,U as A,_ as M,l as N,V as H,C as se,n as F,r as B,p as O,W as ae,X,d as K,Y as le,Z as ce}from"./ISnwe2kE.js";import{_ as q}from"./PPlK0OHA.js";const ie=T({__name:"ProgressSlider",props:{modelValue:{type:Number,default:0},continuous:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:o}){const c=g(null),e=o,n=u,t=g(n.modelValue),i=g(!1),d=r=>{const _=c.value.getBoundingClientRect(),f=r instanceof TouchEvent,$=f?"touchend":"mouseup",S=f?"touchmove":"mousemove";t.value=n.modelValue,i.value=!0;const y=x=>{const v=(x instanceof MouseEvent?x.clientX:x.touches[0].clientX)-_.left;t.value=Math.min(Math.max(v/_.width,0),1),n.continuous&&e("update:modelValue",t.value)},h=()=>{document.removeEventListener(S,y),document.removeEventListener($,h),console.log("Mouse up:",t.value),e("update:modelValue",t.value),i.value=!1};document.addEventListener(S,y),document.addEventListener($,h)};return(r,s)=>(l(),p("div",{class:"progress-slider",ref_key:"container",ref:c,role:"progressbar",style:Z({"--progress-value":w(i)?w(t):u.modelValue})},[a("button",{class:"progress-slider__nail",onMousedown:d,onTouchstart:W(d,["prevent"])},null,32)],4))}}),re=Object.assign(ie,{__name:"ProgressSlider"}),ue=["textContent"],de=T({__name:"DropdownPanel",props:{inactiveIcon:{type:String,default:"bars"},activeIcon:{type:String,default:"xmark"},tag:{type:String,default:"div"},label:{type:String,default:""}},emits:["stateUpdate"],setup(u,{expose:o,emit:c}){const e=g(!1),n=g(null),t=g(null),i=A(),d=J(),r=c,s=u,_=()=>{if(!n.value||!t.value)return;const y=n.value.button;t.value.style.top=`${y.offsetTop}px`,t.value.style.left=`${y.offsetLeft-t.value.offsetWidth+y.offsetWidth}px`},f=()=>{e.value&&(e.value=!1,r("stateUpdate",!1),setTimeout(()=>{i.play("SWOOSH_END").rate(.5)},250))},$=()=>{e.value=!e.value,r("stateUpdate",e.value),i.play("SWOOSH_END").rate(1.5)},S=y=>{const h=y.composedPath(),x=n.value?.button;!h.includes(x)&&!h.includes(t.value)&&f()};return z(()=>{window.addEventListener("click",S),_(),window.addEventListener("resize",_)}),o({active:e,toggleMenu:$,closeMenu:f}),(y,h)=>{const x=q;return l(),p(V,null,[b(x,{ref_key:"triggerButton",ref:n,class:C({"button--icon":!u.label,"dropdown-panel__trigger":!0,"dropdown-panel__trigger--active":w(e)}),onClick:$},{default:P(()=>[w(e)?(l(),p("i",{key:1,class:C(`fa-solid fa-${s.activeIcon}`)},null,2)):(l(),p("i",{key:0,class:C(`fa-solid fa-${s.inactiveIcon}`)},null,2)),u.label?(l(),p("span",{key:2,class:"dropdown-panel__trigger-label",textContent:E(u.label)},null,8,ue)):ee("",!0)]),_:1},8,["class"]),(l(),D(te(u.tag),ne(w(d),{ref_key:"menuContainer",ref:t,class:{"dropdown-panel":!0,"dropdown-panel--active":w(e),"dropdown-panel--has-label":!!u.label}}),{default:P(()=>[oe(y.$slots,"default",{},void 0,!0)]),_:3},16,["class"]))],64)}}}),G=Object.assign(M(de,[["__scopeId","data-v-7e7fcda7"]]),{__name:"DropdownPanel"}),_e={class:"music-player__body"},me={class:"music-player__playlist"},pe=["onClick"],ve=["textContent"],fe={class:"music-player__progress"},we=["textContent"],ge={class:"music-player__volume"},ye={class:"music-player__controls"},he=T({__name:"MusicPanel",setup(u){const o=g(!window?.song?.paused),c=g(null),e={"Radik Khamatdinov - Homepage theme":"/music/h2xdev-theme.ogg","Radik Khamatdinov - Hammerous Course":"/music/hammerous-course.mp3","Radik Khamatdinov - XFact Theme":"/music/xfact-theme.mp3","DTTE - Cosmic Dreams":"/music/cosmic-dreams.mp3"},n=g(0),t=g(0),i=g(.5),d=N(()=>{const m=window?.song?.duration*n.value,v=Math.floor(m/60)||0,k=Math.floor(m%60)||0;return`${v}:${k<10?"0"+k:k}`}),r=()=>{o.value?window.song.pause():window.song.play()},s=()=>{c.value.forEach((m,v)=>{const k=m.scrollWidth-m.clientWidth;m.style.setProperty("--scroll-value",`${k}px`)})},_=()=>{t.value+=1,t.value%=Object.keys(e).length,window.song.src=e[h.value],window.song.play()},f=()=>{t.value-=1,t.value<0&&(t.value=Object.keys(e).length-1),window.song.src=e[h.value],window.song.play()},$=m=>{t.value=Object.keys(e).indexOf(m),window.song.src=e[m],window.song.play()},S=()=>{n.value=window.song.currentTime/window.song.duration},y=m=>{n.value=m,window.song.currentTime=window.song.duration*m},h=N(()=>Object.keys(e)[t.value]),x=()=>{window.song.paused&&(window.song.src=e[h.value],window.song.play())};return z(()=>{window&&(window.song=window.song||new Audio,window.song.volume=.5,window.song.addEventListener("play",()=>o.value=!0),window.song.addEventListener("pause",()=>o.value=!1),window.song.addEventListener("ended",_),window.song.addEventListener("timeupdate",S),window.addEventListener("click",x,{once:!0}),window.addEventListener("resize",s),s())}),H(()=>{window.removeEventListener("resize",s)}),H(se(()=>i.value,m=>{window?.song&&(window.song.volume=m)},{immediate:!0})),(m,v)=>{const k=re,Q=G,L=F("hover-sfx");return l(),D(Q,{"active-icon":"music","inactive-icon":"music",class:"music-player",onStateUpdate:s},{default:P(()=>[a("div",_e,[v[4]||(v[4]=a("p",{class:"music-player__title"}," Playlist ",-1)),a("ul",me,[(l(),p(V,null,B(e,(I,j)=>O(a("li",{key:j,ref_for:!0,ref_key:"songs",ref:c,class:C({active:w(h)===j}),onClick:Ue=>$(j)},[a("span",{textContent:E(j)},null,8,ve)],10,pe),[[L]])),64))]),a("div",fe,[a("div",{class:"music-player__time",textContent:E(w(d))},null,8,we),b(k,{class:"music-player__progress-slider",modelValue:w(n),"onUpdate:modelValue":y},null,8,["modelValue"]),a("div",ge,[v[1]||(v[1]=a("i",{class:"fa-solid fa-volume-up"},null,-1)),b(k,{class:"music-player__progress-slider",modelValue:w(i),"onUpdate:modelValue":v[0]||(v[0]=I=>ae(i)?i.value=I:null),continuous:!0},null,8,["modelValue"])])]),a("div",ye,[O((l(),p("button",{class:"music-player__button",onClick:f},v[2]||(v[2]=[a("i",{class:"fa-solid fa-backward-step"},null,-1)]))),[[L]]),O((l(),p("button",{class:"music-player__button",onClick:r},[a("i",{class:C(`fa-solid fa-${w(o)?"pause":"play"}`)},null,2)])),[[L]]),O((l(),p("button",{class:"music-player__button",onClick:_},v[3]||(v[3]=[a("i",{class:"fa-solid fa-forward-step"},null,-1)]))),[[L]])])])]),_:1})}}}),be=Object.assign(he,{__name:"MusicPanel"}),xe=T({__name:"MenuPanel",setup(u){const o=g(null),c=X(),e={About:{to:"/about",icon:"user"},Projects:{to:"/projects",icon:"puzzle-piece"},Games:{to:"/games",icon:"gamepad"},Music:{to:"/music",icon:"music"},Experience:{to:"/experience",icon:"briefcase"},Creative:{to:"/creative",icon:"paintbrush"}},n=t=>{o.value.closeMenu(),setTimeout(()=>{c.push(t)},500)};return(t,i)=>{const d=q,r=G;return l(),D(r,{class:"menu-panel",tag:"ul",ref_key:"dropdown",ref:o},{default:P(()=>[(l(),p(V,null,B(e,(s,_)=>a("li",{class:"menu-panel__item",role:"menuitem",key:_},[b(d,{href:s.to,class:C({button:!0,"button--active":w(c).currentRoute.value.path.includes(s.to)}),onClick:W(f=>n(s.to),["prevent"])},{default:P(()=>[a("i",{class:C(`fa-solid fa-${s.icon}`)},null,2),K(E(_),1)]),_:2},1032,["href","class","onClick"])])),64))]),_:1},512)}}}),ke=Object.assign(M(xe,[["__scopeId","data-v-ffbf3f56"]]),{__name:"MenuPanel"}),Ce={},$e={class:"header-bar"},Se={class:"header-bar__actions"};function Pe(u,o){const c=Y,e=be,n=ke,t=F("hover-sfx");return l(),p("header",$e,[O((l(),D(c,{to:"/",class:"header-bar__logo"},{default:P(()=>o[0]||(o[0]=[K(" H2XDEV ",-1)])),_:1,__:[0]})),[[t]]),o[1]||(o[1]=a("div",{class:"header-bar__visualizer"},null,-1)),a("div",Se,[b(e),b(n)])])}const Ee=Object.assign(M(Ce,[["render",Pe],["__scopeId","data-v-02d7d2f0"]]),{__name:"HeaderBar"}),R=(u,o,c,e)=>{const n=u[o];return new Promise(t=>{const i=performance.now(),d=r=>{const s=Math.min((r-i)/e,1),_=n+(c-n)*s;u[o]=_,s<1?requestAnimationFrame(d):t(_)};requestAnimationFrame(d)})},Te={class:"t-headline"},Ve=["textContent"],U="•••••",Me=T({__name:"TransitionScreen",setup(u){const o=g(0),c=X(),e=A();let n=null;const t=async(i,d,r)=>{const s=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-duration"))*1e3,_=parseFloat(window.getComputedStyle(document.body).getPropertyValue("--page-transition-delay"))*1e3;o.value=0,await new Promise(f=>setTimeout(f,1)),R(window.song,"volume",.05,300),e.play("SWOOSH_END").rate(.5),o.value=1,await new Promise(f=>setTimeout(f,s)),e.play("SWOOSH_END").rate(.25),await r(),o.value=2,await new Promise(f=>setTimeout(f,s+_)),R(window.song,"volume",.5,300),o.value=0,n=null};return c.beforeEach((i,d,r)=>{if(n){n.then(()=>{n=t(i,d,r)});return}n=t(i,d,r)}),(i,d)=>(l(),p("div",{class:C({transition:!0,"transition--active":w(o)>=1,"transition--active-end":w(o)===2})},[a("p",Te,[(l(),p(V,null,B(U,(r,s)=>a("span",{key:s+r+U,textContent:E(r)},null,8,Ve)),64))])],2))}}),Oe=Object.assign(M(Me,[["__scopeId","data-v-34286f27"]]),{__name:"TransitionScreen"}),De={class:"intro"},Le={class:"t-headline"},je=["textContent"],Be="Hello",Ie=T({__name:"IntroScreen",setup(u){return(o,c)=>(l(),p("div",De,[a("p",Le,[(l(),p(V,null,B(Be,(e,n)=>a("span",{key:n,textContent:E(e)},null,8,je)),64))])]))}}),Ne=Object.assign(M(Ie,[["__scopeId","data-v-090db172"]]),{__name:"IntroScreen"}),He={};function Re(u,o){const c=Ee,e=le,n=Oe,t=Ne;return l(),p(V,null,[b(c),b(e),(l(),D(ce,{to:"body"},[b(n),b(t)]))],64)}const Fe=M(He,[["render",Re]]);export{Fe as default};
